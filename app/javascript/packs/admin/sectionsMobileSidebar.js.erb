(() => {
  var toggleSectionsElement = document.querySelector('.toggle_sections')

  function toggleSections() {
    if (this.classList.contains('open')) {
      this.classList.remove('open')
      this.parentElement.classList.remove('open')
    } else {
      this.classList.add('open')
      this.parentElement.classList.add('open')
    }
  }

  toggleSectionsElement.addEventListener('click', toggleSections)

  document.addEventListener('turbolinks:before-cache', () => {
    toggleSectionsElement.removeEventListener('click', toggleSections)
  })
})()