<% content_for :section_title do %>
  Gallery
<% end %>

<% content_for :meta_title do %>
  Gallery
<% end %>

<% content_for :meta_description do %>
  An interesting selection if pictures I've taken
<% end %>

<%= render partial: 'partials/admin_toolbar', locals: { model: (@gallery_images.empty? ? [GalleryImage.new] : @gallery_images) } %>

<%= render partial: 'partials/system_messages' %>

<div class='gallery'>

  <% if @gallery_images.empty? %>
    <%= render partial: 'partials/no_items', locals: {item: 'images'} %>
  <% else %>
    <ul class='gallery-container' 
        data-controller='justified-gallery gallery-lightbox gallery-scroll-load' 
        data-justified-gallery-margin='2' 
        data-gallery-lightbox-item-selector='.gallery-container a' 
        data-gallery-scroll-load-page-value='1'
        data-gallery-scroll-load-api-url-value='<%= gallery_images_path %>'
        data-action='turbolinks:before-cache@window->justified-gallery#teardown renderGallery->justified-gallery#renderGallery reConnectLightbox->gallery-lightbox#reConnect'
        itemscope itemtype="https://schema.org/ImageGallery">
      <%= render partial: 'gallery_images/image_container', collection: @gallery_images, as: :gallery_image %>
    </ul>
  <% end %>

</div>
